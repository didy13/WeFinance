<!DOCTYPE html>
<html lang="sr">
<%- include("./partials/head.ejs", { css: "help" }) %>
<body>
    <%- include("./partials/nav.ejs") %>

    <main class="help-container container py-5">
        <h1 class="help-title text-center mb-4">PomoÄ‡ i edukacija</h1>
        <p class="help-subtitle text-center mb-5">
            DobrodoÅ¡ao u interaktivni kurs finansijske pismenosti. 
            NauÄi osnovne pojmove i testiraj svoje znanje kroz kvizove i mini igre.
        </p>

        <!-- Progress bar -->
        <div class="progress mb-5">
            <div id="progress-bar" class="progress-bar" style="width: 0%;">0%</div>
        </div>

        <!-- Edukativne kartice -->
        <section class="row g-4">
            <div class="col-md-4">
                <div class="help-card">
                    <h3>ğŸ“Š BudÅ¾et</h3>
                    <p>NauÄi kako da rasporediÅ¡ prihod na Å¡tednju, troÅ¡kove i zabavu.</p>
                    <button class="btn-help" onclick="toggleInfo('budget')">Saznaj viÅ¡e</button>
                    <div id="budget" class="help-info">
                        <p>Pravilo 50/30/20:  
                        - 50% osnovne potrebe,  
                        - 30% Å¾elje,  
                        - 20% Å¡tednja.</p>
                        <p><b>Probaj naÅ¡u simulaciju:</b></p>
                        <input type="number" id="income" placeholder="Unesi meseÄni prihod">
                        <button onclick="simulateBudget()">IzraÄunaj raspodelu</button>
                        <p id="budget-result"></p>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="help-card">
                    <h3>ğŸ’° Å tednja</h3>
                    <p>Postavi ciljeve i uÄi kako mali koraci dovode do velikih rezultata.</p>
                    <button class="btn-help" onclick="toggleInfo('saving')">Saznaj viÅ¡e</button>
                    <div id="saving" class="help-info">
                        <p>Koliko moÅ¾eÅ¡ da uÅ¡tediÅ¡ za 6 meseci?</p>
                        <input type="number" id="daily-saving" placeholder="Koliko dnevno moÅ¾eÅ¡ da uÅ¡tediÅ¡?">
                        <button onclick="savingChallenge()">IzraÄunaj</button>
                        <p id="saving-result"></p>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="help-card">
                    <h3>ğŸ“ˆ Investiranje</h3>
                    <p>Otkrij osnovne principe investiranja i kako smanjiti rizik.</p>
                    <button class="btn-help" onclick="toggleInfo('investing')">Saznaj viÅ¡e</button>
                    <div id="investing" class="help-info">
                        <p>Izaberi gde bi investirao:</p>
                        <button onclick="invest('crypto')">ğŸ’¹ Kripto</button>
                        <button onclick="invest('stocks')">ğŸ“Š Akcije</button>
                        <button onclick="invest('bonds')">ğŸ¦ Obveznice</button>
                        <p id="invest-result"></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Kviz sa 10 pitanja -->
        <section class="quiz-section mt-5">
            <h2 class="text-center mb-4">ğŸ¯ Veliki kviz finansija</h2>
            <div class="quiz-card">
                <p id="quiz-question">Pitanje Ä‡e se pojaviti ovde</p>
                <div id="quiz-options"></div>
                <button onclick="nextQuestion()" id="next-btn" style="display:none;">SledeÄ‡e</button>
                <p id="quiz-result"></p>
            </div>
        </section>

        <!-- Video tutorijal -->
        <section class="video-section mt-5">
            <h2 class="text-center mb-3">ğŸ¥ Video lekcija</h2>
            <div class="video-container text-center">
                <iframe width="560" height="315" src="https://www.youtube.com/embed/m6x1iDXp2ns" 
                frameborder="0" allowfullscreen></iframe>
            </div>
        </section>
    </main>

    <%- include("./partials/footer.ejs") %>

    <script>
        // Progress bar update
        function updateProgress(value) {
            const bar = document.getElementById("progress-bar");
            bar.style.width = value + "%";
            bar.innerHTML = value + "%";
        }

        // Toggle card info
        function toggleInfo(id) {
            const el = document.getElementById(id);
            el.style.display = (el.style.display === "block") ? "none" : "block";
        }

        // Simulacija budÅ¾eta
        function simulateBudget() {
            const income = document.getElementById("income").value;
            if (!income) return;
            const needs = income * 0.5;
            const wants = income * 0.3;
            const savings = income * 0.2;
            document.getElementById("budget-result").innerHTML = 
                `ğŸ“Š Raspodela: ${needs} RSD potrebe, ${wants} RSD Å¾elje, ${savings} RSD Å¡tednja.`;
            updateProgress(20);
        }

        // Å tednja izazov
        function savingChallenge() {
            const daily = document.getElementById("daily-saving").value;
            if (!daily) return;
            const total = daily * 30 * 6;
            document.getElementById("saving-result").innerHTML = 
                `ğŸ’° Za 6 meseci moÅ¾eÅ¡ uÅ¡tedeti ${total} RSD!`;
            updateProgress(40);
        }

        // Investiranje
        function invest(choice) {
            let message = "";
            if (choice === "crypto") {
                message = "âš ï¸ Kripto je riziÄan, moÅ¾eÅ¡ mnogo dobiti, ali i izgubiti.";
            } else if (choice === "stocks") {
                message = "ğŸ“Š Akcije rastu sporo, ali dugoroÄno daju dobar povrat.";
            } else {
                message = "ğŸ¦ Obveznice su najstabilnije, ali sa manjim profitom.";
            }
            document.getElementById("invest-result").innerHTML = message;
            updateProgress(60);
        }

        // Kviz pitanja
        const quizData = [
            { q: "Pravilo 50/30/20 znaÄi:", 
              options: ["50% potrebe, 30% Å¾elje, 20% Å¡tednja", "50% zabava, 30% raÄuni, 20% Å¡tednja"], 
              correct: 0 },
            { q: "Å tednja od 100 RSD dnevno za godinu dana iznosi:", 
              options: ["36.500 RSD", "12.000 RSD"], 
              correct: 0 },
            { q: "Diverzifikacija znaÄi:", 
              options: ["Ulaganje u viÅ¡e razliÄitih stvari", "Ulaganje samo u kripto"], 
              correct: 0 },
            { q: "Kreditna kartica je isto Å¡to i debitna?", 
              options: ["TaÄno", "NetaÄno"], 
              correct: 1 },
            { q: "Inflacija smanjuje kupovnu moÄ‡ novca?", 
              options: ["Da", "Ne"], 
              correct: 0 },
            { q: "Najsigurnije ulaganje je:", 
              options: ["Obveznice", "Kripto"], 
              correct: 0 },
            { q: "Koliko procenata Å¡tednje preporuÄuju finansijski eksperti?", 
              options: ["20%", "5%"], 
              correct: 0 },
            { q: "Fondovi su:", 
              options: ["ZajedniÄka ulaganja viÅ¡e ljudi", "NovÄanici u banci"], 
              correct: 0 },
            { q: "Koja je valuta EU?", 
              options: ["Evro", "Dolar"], 
              correct: 0 },
            { q: "Bitcoin je nastao:", 
              options: ["2009", "2020"], 
              correct: 0 }
        ];

        let currentQuestion = 0;
        let score = 0;

        function loadQuestion() {
            const q = quizData[currentQuestion];
            document.getElementById("quiz-question").innerText = q.q;
            const optionsDiv = document.getElementById("quiz-options");
            optionsDiv.innerHTML = "";
            q.options.forEach((opt, i) => {
                const btn = document.createElement("button");
                btn.innerText = opt;
                btn.onclick = () => checkAnswer(i);
                optionsDiv.appendChild(btn);
            });
        }

        function checkAnswer(i) {
            const q = quizData[currentQuestion];
            if (i === q.correct) {
                score++;
                document.getElementById("quiz-result").innerText = "âœ… TaÄno!";
            } else {
                document.getElementById("quiz-result").innerText = "âŒ NetaÄno!";
            }
            document.getElementById("next-btn").style.display = "block";
        }

        function nextQuestion() {
            currentQuestion++;
            if (currentQuestion < quizData.length) {
                loadQuestion();
                document.getElementById("quiz-result").innerText = "";
                document.getElementById("next-btn").style.display = "none";
            } else {
                document.getElementById("quiz-question").innerText = 
                    `Kviz zavrÅ¡en! Osvojio si ${score} od ${quizData.length} poena.`;
                document.getElementById("quiz-options").innerHTML = "";
                document.getElementById("next-btn").style.display = "none";
                updateProgress(100);
            }
        }
        function checkAnswer(i) {
    const q = quizData[currentQuestion];
    const resultEl = document.getElementById("quiz-result");
    if (i === q.correct) {
        score++;
        resultEl.innerText = "âœ… TaÄno!";
        resultEl.style.color = "#4caf50"; // Zelena
        resultEl.style.textShadow = "0 0 8px rgba(76, 175, 80, 0.8)";
    } else {
        resultEl.innerText = "âŒ NetaÄno!";
        resultEl.style.color = "#ff4d4f"; // Crvena
        resultEl.style.textShadow = "0 0 8px rgba(255, 77, 79, 0.8)";
    }
    document.getElementById("next-btn").style.display = "block";
}
        // Inicijalno uÄitavanje kviza
        loadQuestion();
    </script>
</body>
</html>
